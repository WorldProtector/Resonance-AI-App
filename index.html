<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Lingua Natura: Holistic Intent Translator</title><script src="https://cdn.tailwindcss.com"></script><style>::-webkit-scrollbar{width:4px}::-webkit-scrollbar-thumb{background:#6b46c1;border-radius:2px}::-webkit-scrollbar-track{background:#1a1a2e}body{font-family:'Inter',sans-serif}</style></head><body class="bg-[#1a1a2e] text-gray-100 min-h-screen flex items-center justify-center p-4"><div id="app" class="w-full max-w-lg bg-[#2c2c4a] rounded-xl shadow-2xl p-6 md:p-8 space-y-6"><h1 class="text-3xl font-extrabold text-[#9f7aea] text-center mb-6">Lingua Natura</h1><p class="text-center text-sm text-gray-400 mb-8">Translate the <b>intent</b> and <b>natural wisdom</b>, not just the words. ($7.99/mo Blue Ocean App)</p><div id="status-message" class="text-center p-2 rounded-lg text-sm transition duration-300 hidden"></div><div class="space-y-2"><label for="source-text" class="text-sm font-medium text-gray-300">Your Original Message (Source)</label><textarea id="source-text" rows="4" class="w-full p-3 bg-[#3a3a5e] border border-transparent focus:border-[#9f7aea] rounded-lg resize-none text-gray-100 placeholder-gray-500 focus:ring-1 focus:ring-[#9f7aea] transition duration-200" placeholder="Enter text here..."></textarea></div><div class="space-y-2"><label for="intent-select" class="text-sm font-medium text-gray-300">Desired Holistic Intent & Tone</label><select id="intent-select" class="w-full p-3 bg-[#3a3a5e] border border-transparent focus:border-[#9f7aea] rounded-lg text-gray-100 appearance-none focus:ring-1 focus:ring-[#9f7aea] transition duration-200"><option value="Empathy">Empathy & Understanding</option><option value="Mutual Respect">Mutual Respect & Harmony</option><option value="Firm Guidance">Firm Guidance (Natural Authority)</option><option value="Holistic Teaching">Holistic Teaching & Natural Wisdom</option><option value="Directness">Clear & Gentle Directness</option></select></div><div class="space-y-2"><label for="target-language" class="text-sm font-medium text-gray-300">Target Language</label><input id="target-language" type="text" value="Spanish" class="w-full p-3 bg-[#3a3a5e] border border-transparent focus:border-[#9f7aea] rounded-lg text-gray-100 placeholder-gray-500 focus:ring-1 focus:ring-[#9f7aea] transition duration-200" placeholder="e.g., French, Japanese, etc."></div><button id="translate-button" onclick="translateText()" class="w-full py-3 px-4 bg-[#9f7aea] hover:bg-[#805ad5] text-white font-bold rounded-lg shadow-lg transition duration-200 focus:outline-none focus:ring-4 focus:ring-[#9f7aea] focus:ring-opacity-50 disabled:opacity-50" disabled>Translate with Intent</button><div class="space-y-2"><label for="output-text" class="text-sm font-medium text-gray-300">Holistically Translated Output</label><textarea id="output-text" rows="4" readonly class="w-full p-3 bg-[#3a3a5e] rounded-lg resize-none text-gray-100 placeholder-gray-500 opacity-80" placeholder="Translation will appear here..."></textarea></div></div><script type="module">import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";import { getFirestore } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";window.translateButton = document.getElementById('translate-button');window.statusMessage = document.getElementById('status-message');try {const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');const app = initializeApp(firebaseConfig);window.db = getFirestore(app);window.auth = getAuth(app);if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {signInWithCustomToken(window.auth, __initial_auth_token).then(() => {console.log("Firebase Auth: Signed in with custom token.");window.translateButton.disabled = false;window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-green-900 text-green-200 block";window.statusMessage.textContent = "System Ready: Secure session active.";}).catch(error => {console.error("Firebase Auth Error (Custom Token):", error.message);signInAnonymously(window.auth).then(() => {console.log("Firebase Auth: Signed in anonymously.");window.translateButton.disabled = false;}).catch(err => {console.error("Firebase Auth Error (Anonymous):", err.message);window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-red-900 text-red-200 block";window.statusMessage.textContent = "Error: Could not establish a secure session.";});});} else {signInAnonymously(window.auth).then(() => {console.log("Firebase Auth: Signed in anonymously (No initial token).");window.translateButton.disabled = false;}).catch(error => {console.error("Firebase Auth Error (Anonymous):", error.message);window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-red-900 text-red-200 block";window.statusMessage.textContent = "Error: Could not establish a secure session.";});}} catch (e) {console.error("Firebase Initialization Error:", e);window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-red-900 text-red-200 block";window.statusMessage.textContent = "Error: Firebase setup failed.";}}</script><script>async function fetchWithRetry(url, options, maxRetries = 3) {for (let i = 0; i < maxRetries; i++) {try {const response = await fetch(url, options);if (response.ok) return response;throw new Error(`HTTP error! status: ${response.status}`);} catch (error) {if (i === maxRetries - 1) throw error;const delay = Math.pow(2, i) * 1000;await new Promise(resolve => setTimeout(resolve, delay));}}}window.translateText = async function() {const sourceText = document.getElementById('source-text').value.trim();const intent = document.getElementById('intent-select').value;const targetLanguage = document.getElementById('target-language').value.trim();const outputTextarea = document.getElementById('output-text');if (!sourceText) {alert('Please enter text to translate.');return;}window.translateButton.disabled = true;window.translateButton.textContent = 'Translating...';outputTextarea.value = 'Analyzing intent and generating natural flow...';const systemPrompt = `You are Lingua Natura, a holistic and compassionate language architect. Your goal is to translate text not just literally, but to perfectly capture the user's selected holistic intent and emotional tone, ensuring the communication is as healthy, natural, and respectful as possible.Instructions:1. **Maintain the Selected Intent:** The user has chosen the intent: "${intent}". Translate using vocabulary and phrasing that strictly adheres to this tone (e.g., if the intent is "Empathy," use gentle, warm words).2. **Holistic Wisdom Filter:** If the source text contains any concepts related to natural health, wellness, or emotional states, translate them to preserve their holistic, non-clinical meaning.3. **Target Language:** ${targetLanguage}.`;const userQuery = `Translate the following source text into ${targetLanguage}, maintaining the selected intent ("${intent}"): "${sourceText}"`;const payload = {contents: [{ parts: [{ text: userQuery }] }],systemInstruction: {parts: [{ text: systemPrompt }]}};const apiKey = "";const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;try {const response = await fetchWithRetry(apiUrl, {method: 'POST',headers: { 'Content-Type': 'application/json' },body: JSON.stringify(payload)});const result = await response.json();const translatedText = result.candidates?.[0]?.content?.parts?.[0]?.text || "Error: Translation failed to generate content.";outputTextarea.value = translatedText;window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-indigo-900 text-indigo-200 block";window.statusMessage.textContent = "Translation Complete! Intent maintained.";} catch (error) {console.error("Gemini API Error:", error);outputTextarea.value = "An error occurred during translation. Please check the console for details.";window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-red-900 text-red-200 block";window.statusMessage.textContent = "Translation Failed. Check internet connection and console.";} finally {window.translateButton.disabled = false;window.translateButton.textContent = 'Translate with Intent';}};</script></body></html>

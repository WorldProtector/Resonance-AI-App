<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Nature's Pharmacy: Natural Remedy Protocol</title><script src="https://cdn.tailwindcss.com"></script><style>body{font-family:'Inter',sans-serif}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-thumb{background:#047857;border-radius:2px}::-webkit-scrollbar-track{background:#1a1a2e}#app{max-width:32rem}.result-box{max-height:300px;overflow-y:auto;}</style></head><body class="bg-[#1a1a2e] text-gray-100 min-h-screen flex items-center justify-center p-4"><div id="app" class="w-full bg-[#2c2c4a] rounded-xl shadow-2xl p-6 md:p-8 space-y-6"><h1 class="text-3xl font-extrabold text-[#10b981] text-center mb-6">Nature's Pharmacy</h1><p class="text-center text-sm text-gray-400 mb-8">Personalized, holistic, and validated natural protocols. ($7.99/mo)</p><div id="status-message" class="text-center p-2 rounded-lg text-sm transition duration-300 hidden"></div><div class="space-y-2"><label for="symptom-input" class="text-sm font-medium text-gray-300">Acute Symptom (e.g., Tension Headache, Low Energy, Digestive Upset)</label><input id="symptom-input" type="text" class="w-full p-3 bg-[#3a3a5e] border border-transparent focus:border-[#10b981] rounded-lg text-gray-100 placeholder-gray-500 focus:ring-1 focus:ring-[#10b981] transition duration-200" placeholder="Describe your issue..."></div><div class="space-y-2"><label for="context-input" class="text-sm font-medium text-gray-300">Known Conditions or Supplements (For Safety Check)</label><textarea id="context-input" rows="2" class="w-full p-3 bg-[#3a3a5e] border border-transparent focus:border-[#10b981] rounded-lg resize-none text-gray-100 placeholder-gray-500 focus:ring-1 focus:ring-[#10b981] transition duration-200" placeholder="e.g., 'Take blood pressure medication,' 'Pregnant,' or 'Allergic to citrus.'"></textarea></div><button id="generate-button" onclick="generateProtocol()" class="w-full py-3 px-4 bg-[#10b981] hover:bg-[#059669] text-white font-bold rounded-lg shadow-lg transition duration-200 focus:outline-none focus:ring-4 focus:ring-[#10b981] focus:ring-opacity-50 disabled:opacity-50" disabled>Generate Natural Protocol</button><div class="space-y-2 pt-4"><label class="text-sm font-medium text-gray-300">Validated 3-Step Protocol</label><div id="protocol-output" class="result-box w-full p-3 bg-[#3a3a5e] rounded-lg text-gray-100 placeholder-gray-500 opacity-80 min-h-[100px] whitespace-pre-wrap">Protocol will appear here...</div></div></div><script type="module">import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";import { getFirestore } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";window.generateButton = document.getElementById('generate-button');window.statusMessage = document.getElementById('status-message');try {const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');const app = initializeApp(firebaseConfig);window.db = getFirestore(app);window.auth = getAuth(app);if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {signInWithCustomToken(window.auth, __initial_auth_token).then(() => {window.generateButton.disabled = false;window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-green-900 text-green-200 block";window.statusMessage.textContent = "System Ready: Secure session active.";}).catch(error => {signInAnonymously(window.auth).then(() => {window.generateButton.disabled = false;}).catch(err => {window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-red-900 text-red-200 block";window.statusMessage.textContent = "Error: Could not establish a secure session.";});});} else {signInAnonymously(window.auth).then(() => {window.generateButton.disabled = false;}).catch(error => {window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-red-900 text-red-200 block";window.statusMessage.textContent = "Error: Could not establish a secure session.";});}} catch (e) {window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-red-900 text-red-200 block";window.statusMessage.textContent = "Error: Firebase setup failed.";}</script><script>async function fetchWithRetry(url, options, maxRetries = 3) {for (let i = 0; i < maxRetries; i++) {try {const response = await fetch(url, options);if (response.ok) return response;throw new Error(`HTTP error! status: ${response.status}`);} catch (error) {if (i === maxRetries - 1) throw error;const delay = Math.pow(2, i) * 1000;await new Promise(resolve => setTimeout(resolve, delay));}}}window.generateProtocol = async function() {const symptom = document.getElementById('symptom-input').value.trim();const context = document.getElementById('context-input').value.trim();const outputDiv = document.getElementById('protocol-output');if (!symptom) {outputDiv.textContent = "Please enter a symptom.";return;}window.generateButton.disabled = true;window.generateButton.textContent = 'Analyzing...';outputDiv.textContent = 'Searching Nature\'s Database for a validated protocol...';const systemPrompt = `You are Nature's Pharmacist, an expert in safe, holistic, and natural remedies. Your primary goal is safety and efficacy. You must use Google Search grounding to find the most up-to-date information on traditional, herbal, and natural protocols.You MUST generate a 3-step protocol that includes: 1) A specific natural remedy (herb, oil, or food), 2) A somatic or movement-based therapy, and 3) A hydration/water-based therapy.You must also include a clear safety warning if needed.Format your response clearly, using only text and bullet points.`;const userQuery = `Symptom: ${symptom}. Known Conditions/Supplements: ${context}. Please provide a 3-step, holistic natural remedy protocol.`;const payload = {contents: [{ parts: [{ text: userQuery }] }],tools: [{ "google_search": {} }],systemInstruction: {parts: [{ text: systemPrompt }]}};const apiKey = "";const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;try {const response = await fetchWithRetry(apiUrl, {method: 'POST',headers: { 'Content-Type': 'application/json' },body: JSON.stringify(payload)});const result = await response.json();const protocol = result.candidates?.[0]?.content?.parts?.[0]?.text || "Error: Failed to generate protocol. Please try a simpler symptom.";outputDiv.textContent = protocol;window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-emerald-900 text-emerald-200 block";window.statusMessage.textContent = "Protocol Generated! Review the 3 steps carefully.";} catch (error) {console.error("Gemini API Error:", error);outputDiv.textContent = "An error occurred during protocol generation. Check console for details.";window.statusMessage.className = "text-center p-2 rounded-lg text-sm bg-red-900 text-red-200 block";window.statusMessage.textContent = "Protocol Generation Failed.";} finally {window.generateButton.disabled = false;window.generateButton.textContent = 'Generate Natural Protocol';}};</script></body></html>
